<h2 id="bd-overview" data-id="overview"><span style="font-size: 2rem;">5. A Backtracking Algorithm</span></h2>
<h3 id="bd-1-problem-statement" data-id="1-problem-statement">5.1. Problem Statement</h3>
<p>A classic example of backtracking is the <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" />-Queens problem, first proposed by German chess enthusiast Max Bezzel in 1848. Given a chessboard of size <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" />, the problem is to place <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" /> queens on the <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-a5d889b24d5ac3c39fb55431181147e2_l3.svg" class="ql-img-inline-formula " alt="n \times n" title="Rendered by QuickLaTeX.com" height="9" width="43" /> chessboard, so no two queens are attacking each other.</p>
<p>It is clear that for this problem, <span>we need to find all the arrangements of the positions of the</span> <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-262f2b064422e0639fd9e7d5e7cf039f_l3.svg" class="ql-img-inline-formula " alt="\mathbf{n}" title="Rendered by QuickLaTeX.com" height="8" width="11" /> <span>queens on the chessboard, but there is a constraint: no queen should be able to attack another queen.</span></p>
<h3 id="bd-2-pseudocode" data-id="2-pseudocode">5.2. Pseudocode</h3>
<p>Let’s see pseudocode that uses backtracking technique to solve <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" />-Queens problem:</p>
<p class="ql-center-picture"><img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-a91cded7eca04d563daa86f882b3bb05_l3.svg" height="488" width="584" class="ql-img-picture " alt="Rendered by QuickLaTeX.com" title="Rendered by QuickLaTeX.com" /></p>
<div class="code-block code-block-4"></div>
<p>We start this algorithm with an array <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-90b12fcee3ad92c2e6ae01b15a87515d_l3.svg" class="ql-img-inline-formula " alt="Q[n]" title="Rendered by QuickLaTeX.com" height="18" width="33" /> and a parameter <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.svg" class="ql-img-inline-formula " alt="k" title="Rendered by QuickLaTeX.com" height="12" width="9" /> that represents the index of the first empty row. The positions of the queens on a <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-a5d889b24d5ac3c39fb55431181147e2_l3.svg" class="ql-img-inline-formula " alt="n \times n" title="Rendered by QuickLaTeX.com" height="9" width="43" /> chessboard is stored using an array <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-959efd7a7f439b16ba0e555f2ab0de22_l3.svg" class="ql-img-inline-formula " alt="Q[1 .. n]" title="Rendered by QuickLaTeX.com" height="18" width="52" />, where <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-4f5f861b9353de843c491b15eb64cd12_l3.svg" class="ql-img-inline-formula " alt="Q[i]" title="Rendered by QuickLaTeX.com" height="18" width="28" /> indicates which square in row <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-31318c5dcb226c69e0818e5f7d2422b5_l3.svg" class="ql-img-inline-formula " alt="i" title="Rendered by QuickLaTeX.com" height="12" width="6" /> contains a queen.</p>
<p>First, we check if the size of the variable <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.svg" class="ql-img-inline-formula " alt="k" title="Rendered by QuickLaTeX.com" height="12" width="9" /> is greater than the size of <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" />. If this condition satisfies, we return the array <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-90b12fcee3ad92c2e6ae01b15a87515d_l3.svg" class="ql-img-inline-formula " alt="Q[n]" title="Rendered by QuickLaTeX.com" height="18" width="33" />. If <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-d42bc2203d6f76ad01b27ac9acc0bee1_l3.svg" class="ql-img-inline-formula " alt="k" title="Rendered by QuickLaTeX.com" height="12" width="9" /> is less than <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" />, we check the queen’s current position with the index value. If it is a non-attacking position for placing a queen on the chessboard, we save the index in the array <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-90b12fcee3ad92c2e6ae01b15a87515d_l3.svg" class="ql-img-inline-formula " alt="Q[n]" title="Rendered by QuickLaTeX.com" height="18" width="33" />. Like this, we explore all the positions on the chessboard by calling the <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-8d8d3adc645e9278c3949fa4f7949409_l3.svg" class="ql-img-inline-formula " alt="NQueen()" title="Rendered by QuickLaTeX.com" height="19" width="80" /> function recursively.</p>
<h3 id="bd-3-a-solution-example" data-id="3-a-solution-example">5.3. A Solution Example</h3>
<p>If we take a <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-eb6510fc078448dec202704024a56e4d_l3.svg" class="ql-img-inline-formula " alt="5 \times 5" title="Rendered by QuickLaTeX.com" height="13" width="39" /> chessboard as an example, solving the problem results in 10 solutions, which leads us to use the backtracking algorithm in order to retrieve all these solutions:</p>
<p><img decoding="async" loading="lazy" width="476" height="386" class="aligncenter size-full wp-image-51942" src="https://www.baeldung.com/wp-content/uploads/sites/4/2020/11/chess-1.png" alt="chess 1" srcset="https://www.baeldung.com/wp-content/uploads/sites/4/2020/11/chess-1.png 476w, https://www.baeldung.com/wp-content/uploads/sites/4/2020/11/chess-1-300x243.png 300w, https://www.baeldung.com/wp-content/uploads/sites/4/2020/11/chess-1-100x81.png 100w" sizes="(max-width: 476px) 100vw, 476px" /></p>
<p>It is true that for this problem, the solutions found are valid, but still, <span>a backtracking algorithm for the <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-ec4217f4fa5fcd92a9edceba0e708cf7_l3.svg" class="ql-img-inline-formula " alt="n" title="Rendered by QuickLaTeX.com" height="8" width="11" />-Queens problem presents a time complexity equal to</span> <img decoding="async" loading="lazy" src="https://www.baeldung.com/wp-content/ql-cache/quicklatex.com-9affd52b2c5cd82ddbc24b1dc194fa42_l3.svg" class="ql-img-inline-formula " alt="\mathbf{\mathcal{O}(2^{n})}" title="Rendered by QuickLaTeX.com" height="19" width="46" />.</p>
<h2 id="bd-conclusion" data-id="conclusion">6. Conclusion</h2>
<p>In this tutorial, we’ve discussed the general idea of the backtracking technique. We also presented an algorithm that uses backtracking.</p>
<p>Backtracking remains a valid and vital tool for solving various kinds of problems, even though this algorithm’s time complexity may be high, as it may need to explore all existing solutions.</p>